<!DOCTYPE html>
<html>
<head>
  <title></title>
</head>
<body>
  <script src="mediator.js"></script>
  <script>
    var medi = new Mediator();

    medi.when('somethingHappend', data => {
      console.log(data);
    });

    var func = function(data) {
      console.log('func', data);
    };

    medi.when('somethingHappend', func);

    medi.emit('somethingHappend', {foo: 'bar'});

    // Delete a specific handler.
    medi.delete('somethingHappend', func);

    // only fires one
    medi.emit('somethingHappend', {foo: 'bar'});

    // Delete all
    medi.delete('somethingHappend');

    // Should not log anything
    medi.emit('somethingHappend', {foo: 'bar'});

    // Extend test
    var object = {
      foo() {
        console.log('foo');
      }
    };

    medi.extend(object);

    medi.when('foo', (msg) => {console.log('on mediator: '+msg)});
    object.when('foo', (msg) => {console.log('on object: '+msg)});

    object.emit('foo', 'from object, bar');
    medi.emit('foo', 'from mediator, baz');

  </script>
</body>
</html>
